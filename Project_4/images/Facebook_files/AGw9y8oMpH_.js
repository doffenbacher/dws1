/*!CK:1822431179!*//*1402977302,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["CbIso"]); }

__d("VideoPlayerLoggerEvents",[],function(a,b,c,d,e,f){e.exports={AUTOPLAY_PREFERENCE_CHANGED:"autoplay_preference_changed",END_STALL_TIME:"end_stall_time",AUTOPLAY_PREFERENCE_STATUS:"autoplay_preference_status",NOT_AUTOPLAYING:"not_autoplaying",VIDEO_ORIENTATION_CHANGED:"video_orientation_changed",ASSETS_LOADED:"assets_loaded",BUFFERED:"buffered",CANCELLED_REQUESTED_PLAYING:"cancelled_requested_playing",CAROUSEL_CHANGE:"carousel_change",DISPLAYED:"displayed",ENTERED_HD:"entered_hd",ENTERED_FALLBACK:"entered_fallback",ENTERED_FS:"entered_fs",EXITED_HD:"exited_hd",EXITED_FS:"exited_fs",ERROR:"error",FINISHED_PLAYING:"finished_playing",IMPRESSION:"impression",INVALID_URL:"invalid_url",MUTED:"muted",PAUSED:"paused",PLAYER_LOADED:"player_loaded",PLAY_REQUESTED:"play_requested",PROGRESS:"progress",READY_TO_PLAY:"ready_to_play",REPLAYED:"replayed",REQUESTED:"requested",REQUESTED_PLAYING:"requested_playing",SCRUBBED:"scrubbed",STARTED_PLAYING:"started_playing",STARTED_RECEIVING_BYTES:"started_receiving_bytes",STATS:"stats",STOPPED_PLAYING:"stopped_playing",UNMUTED:"unmuted",UNPAUSED:"unpaused",VOLUME_CHANGED:"volume_changed",VOLUME_DECREASE:"volume_decrease",VOLUME_INCREASE:"volume_increase"};},null);
__d("VideoPlayerReason",[],function(a,b,c,d,e,f){e.exports={AUTOPLAY:"autoplay_initiated",USER:"user_initiated",PAGE_VISIBILITY:"page_visibility_initiated"};},null);
__d("VideoPlayerVersions",[],function(a,b,c,d,e,f){e.exports={CASABLANCA:"casablanca",HTML5:"html5",SILVERCITY:"silvercity"};},null);
__d("VideoPlayerLogger",["Banzai","copyProperties"],function(a,b,c,d,e,f,g,h){var i='video_player';function j(k,l){"use strict";this.$VideoPlayerLogger0=k;this.$VideoPlayerLogger1=null;this.$VideoPlayerLogger2={};this.$VideoPlayerLogger3=l;}j.prototype.logEvent=function(event,k){"use strict";h(k,this.$VideoPlayerLogger3);if(this.$VideoPlayerLogger2.hasOwnProperty(event)){k.initial_event=false;}else k.initial_event=this.$VideoPlayerLogger2[event]=true;if(!k.hasOwnProperty('time'))k.time=Math.round(Date.now()/1000);if(this.$VideoPlayerLogger1)h(k,this.$VideoPlayerLogger1);var l={logData:k,event:event,scriptPath:this.$VideoPlayerLogger4,source:this.$VideoPlayerLogger0};g.post(i,l);};j.prototype.setScriptPath=function(k){"use strict";this.$VideoPlayerLogger4=k;};j.prototype.setFTData=function(k){"use strict";this.$VideoPlayerLogger1=k;};h(j,{Sources:{ADS:'ads',HTML5:'html5',INLINE:'inline'},Errors:{ENTERED_FALLBACK:'entered_fallback',ERROR_CALLING_FLASH:'error_calling_flash'},FallbackReasons:{TIMEOUT:'timeout',FLASH_ERROR:'flash_error',FLASH_UNAVAILABLE:'flash_unavailable'},ErrorStates:{PLAYBACK_FAILURE:'playback_failure',PLAYER_FAILURE:'player_failure'},PlayerStates:{STARTED:'started',UNPAUSED:'unpaused'}});e.exports=j;},null);
__d("flash-js",["copyProperties"],function(a,b,c,d,e,f,g){function h(){}g(h,{INIT:'flash/init',READY:'flash/ready',FAILED:'flash/failed'});e.exports=h;},null);
__d("legacy:flash-js",["flash-js"],function(a,b,c,d){a.Flash=b('flash-js');},3);
__d("getLayoutRoot",["DOMQuery","csx"],function(a,b,c,d,e,f,g,h){var i=null;function j(){if(!i)i=g.scry(document.body,"._li")[0];return i;}e.exports=j;},null);
__d("legacy:swfobject",["swfobject"],function(a,b,c,d,e,f,g){a.deconcept=g;a.SWFObject=g.SWFObject;a.showFlashErrorDialog=g.showFlashErrorDialog;},3);
__d("SpotlightVideoDimensions",["PhotoViewerDimensions","Vector"],function(a,b,c,d,e,f,g,h){var i=520;function j(k){"use strict";this.$SpotlightVideoDimensions0=new g();this.$SpotlightVideoDimensions1=k;}j.prototype.getStageAndVideoDimensions=function(k){"use strict";var l=this.$SpotlightVideoDimensions0.getMaxStageDimensions(),m=this.$SpotlightVideoDimensions0.getImageDimensionsForStage(k,l.sub(this.$SpotlightVideoDimensions1,0)),n=new h(m.x+this.$SpotlightVideoDimensions1,Math.max(m.y,i));return {stageDimensions:n,videoDimensions:m};};e.exports=j;},null);
__d("VideoSpotlight",["LayerHideOnBlur","LayerHideOnEscape","ReactLayer","Spotlight","cx","getLayoutRoot","invariant"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){var n=i.createClass({getDefaultEnabledBehaviors:function(){return {hideOnBlur:g,hideOnEscape:h};},createLayer:function(o){m(l());var p=this.enumerateBehaviors(this.props.behaviors),q={addedBehaviors:p,rootClassName:"_5v-m"},r=new j(q,o);r.conditionShow(this.props.shown);r.setInsertParent(l());if(this.props.onHide)r.subscribe('hide',this.props.onHide);return r;},receiveProps:function(o){this.layer.conditionShow(o.shown);}});e.exports=n;},null);
__d("SpotlightVideoViewer",["ArbiterMixin","BehaviorsMixin","Event","React","ReactLayeredComponentMixin","SpotlightVideoDimensions","SpotlightViewerClose","SpotlightViewerUnmountOnClose","SpotlightViewport","SubscriptionsHandler","Style","Vector","VideoSpotlight","cx","getViewportDimensions","invariant"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v){var w=360,x=j.createClass({displayName:'SpotlightVideoViewer',mixins:[g,h,k],behaviors:[n],componentWillMount:function(){this.enableBehaviors(this.behaviors);},componentDidMount:function(){this._subscriptions.addSubscriptions(i.listen(window,'resize',this._onResize));this._popOutVideo();},componentWillUnmount:function(){this._subscriptions.release();this.destroyBehaviors();},getInitialState:function(){this._dimensions=new l(w);this._originalDimensions=new r(this.props.videoElement.offsetWidth,this.props.videoElement.offsetHeight);this._targetDimensions=this._originalDimensions.mul(2);this._subscriptions=new p();return {dimensions:this._dimensions.getStageAndVideoDimensions(this._targetDimensions)};},renderLayers:function(){var y={height:this.state.dimensions.stageDimensions.y+'px'};return {videoLayer:s({onHide:this._popInVideo,shown:true},j.DOM.div({className:"_n3"},o({stageDimensions:this.state.dimensions.stageDimensions},m({onClick:this._handleClose}),j.DOM.div({className:"rfloat _5xg6",style:y},j.DOM.div({className:"_5xg7"},' ',"UFI Section",' ')))))};},render:function(){return j.DOM.div(null);},_handleClose:function(){this.inform('close');},_onResize:function(){this.setState({dimensions:this._dimensions.getStageAndVideoDimensions(this._targetDimensions)});this._repositionVideo();},_popOutVideo:function(){v(this.props.videoElement);q.apply(this.props.videoElement,{position:'fixed','z-index':'401'});this._repositionVideo();},_popInVideo:function(){this._handleClose();v(this.props.videoElement);var y=this._originalDimensions.x,z=this._originalDimensions.y;q.apply(this.props.videoElement,{left:0,height:z+'px',position:'static',top:0,width:y+'px','z-index':'auto'});q.apply(this.props.swfElement,{height:z+'px',width:y+'px'});},_repositionVideo:function(){var y=u.withoutScrollbars(),z=this.state.dimensions.videoDimensions.y,aa=this.state.dimensions.videoDimensions.x-1,ba=y.width/2-this.state.dimensions.stageDimensions.x/2+1,ca=y.height/2-z/2;q.apply(this.props.videoElement,{height:z+'px',left:ba+'px',top:ca+'px',width:aa+'px'});q.apply(this.props.swfElement,{height:z+'px',width:aa+'px'});}});e.exports=x;},null);
__d("VideoViewer",["DOM","React","SpotlightVideoViewer"],function(a,b,c,d,e,f,g,h,i){var j={_viewerContainer:null,bootstrapWithElement:function(k,l){var m=i({swfElement:l,videoElement:k});j.renderViewer(m);},renderViewer:function(k){if(!this._viewerContainer){this._viewerContainer=g.create('div');document.body.appendChild(this._viewerContainer);}k=h.renderComponent(k,this._viewerContainer);k.subscribeOnce('close',function(){g.empty(this._viewerContainer);}.bind(this));}};e.exports=j;},null);
__d("VideoPlayerUnitX",["Banzai","CSS","DOM","DOMDimensions","Event","Flash","LitestandStoryInsertionStatus","Run","ScriptPath","SubscriptionsHandler","VideoAutoplayPlayButton","VideoPlayerApiFactory","VideoPlayerLogger","VideoPlayerLoggerEvents","VideoPlayerVersions","VideoViewer","clickRefAction","collectDataAttributes","copyProperties","cx","getElementPosition","VideoPlayerReason"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba){var ca='buffered',da='buffering',ea='fallback',fa='finished',ga='loading',ha='paused',ia='playing',ja='ready',ka='autoplay',la='none',ma='play',na=100,oa=10000;function pa(qa,ra){"use strict";this.$VideoPlayerUnitX0=ra;this.$VideoPlayerUnitX1=0;this.$VideoPlayerUnitX2=qa;this.$VideoPlayerUnitX3=new s(this.$VideoPlayerUnitX0.is_ad?s.Sources.ADS:s.Sources.INLINE);this.$VideoPlayerUnitX4=!!this.$VideoPlayerUnitX2.pivotThumbs;this.$VideoPlayerUnitX5=la;this.$VideoPlayerUnitX6=new p();this.$VideoPlayerUnitX7=null;this.$VideoPlayerUnitX8=null;this.$VideoPlayerUnitX9=null;this.$VideoPlayerUnitXa=o.getScriptPath();this.$VideoPlayerUnitX3.setFTData(x(this.$VideoPlayerUnitX2.video,['ft']));this.$VideoPlayerUnitX3.setScriptPath(this.$VideoPlayerUnitXa);g.subscribe(g.SHUTDOWN,function(){if(this.$VideoPlayerUnitX8!==null&&this.$VideoPlayerUnitX9!==null)this.$VideoPlayerUnitXb(t.PAUSED,{reason:'unloaded',video_time_position:this.$VideoPlayerUnitX8,video_last_start_time_position:this.$VideoPlayerUnitX9});}.bind(this));n.onLeave(function(){this.$VideoPlayerUnitX6.release();}.bind(this));this.$VideoPlayerUnitXc=this.$VideoPlayerUnitX0.should_autoplay;this.$VideoPlayerUnitXd(ga);if(this.$VideoPlayerUnitX0.player_version!==u.HTML5&&!l.isAvailable()){this.$VideoPlayerUnitXe(false,s.FallbackReasons.FLASH_UNAVAILABLE);}else{if(q.getClicked(ra.flash_id))this.$VideoPlayerUnitX5=ma;this.$VideoPlayerUnitXf();q.unregister(this.$VideoPlayerUnitX0.flash_id);this.$VideoPlayerUnitX2.thumbnails.forEach(function(sa){this.$VideoPlayerUnitX6.addSubscriptions(k.listen(sa,'click',function(){return this.$VideoPlayerUnitXg();}.bind(this)));}.bind(this));this.$VideoPlayerUnitX6.addSubscriptions(k.listen(this.$VideoPlayerUnitX2.play_icon,'click',function(){return this.$VideoPlayerUnitXg();}.bind(this)),m.registerBlocker(function(){return this.$VideoPlayerUnitXh===ia;}.bind(this)));if(this.$VideoPlayerUnitX2.cta_replay_element!=null)this.$VideoPlayerUnitX6.addSubscriptions(k.listen(this.$VideoPlayerUnitX2.cta_replay_element,'click',function(){return this.$VideoPlayerUnitXg();}.bind(this)),m.registerBlocker(function(){return this.$VideoPlayerUnitXh===ia;}.bind(this)));if(this.$VideoPlayerUnitX4){this.$VideoPlayerUnitX2.pivotThumbs.forEach(function(sa){this.$VideoPlayerUnitX6.addSubscriptions(k.listen(sa,'click',function(){this.$VideoPlayerUnitXi();}.bind(this)));}.bind(this));this.$VideoPlayerUnitX6.addSubscriptions(k.listen(this.$VideoPlayerUnitX2.pivotNextText,'click',function(){this.$VideoPlayerUnitXg();}.bind(this)));this.$VideoPlayerUnitX6.addSubscriptions(k.listen(this.$VideoPlayerUnitX2.pivotReplayText,'click',function(){this.$VideoPlayerUnitXi();}.bind(this)));}}if(this.$VideoPlayerUnitX0.player_version===u.HTML5)this.$VideoPlayerUnitXj();}pa.prototype.$VideoPlayerUnitXg=function(){"use strict";if(this.$VideoPlayerUnitXh===ea)return;if(this.$VideoPlayerUnitXc){this.$VideoPlayerUnitXc=false;this.$VideoPlayerUnitX7.unmute();}this.play(ba.USER);this.$VideoPlayerUnitXk();};pa.prototype.$VideoPlayerUnitXi=function(){"use strict";this.$VideoPlayerUnitXl(this.$VideoPlayerUnitXm());this.play(ba.USER);};pa.prototype.getDOMPosition=function(){"use strict";return aa(this.$VideoPlayerUnitX2.root);};pa.prototype.isAutoplayable=function(){"use strict";return this.$VideoPlayerUnitX0.should_autoplay;};pa.prototype.handleFlashEvent=function(qa,ra){"use strict";if(this.$VideoPlayerUnitXh===ea)return;switch(qa){case 'flash/buffered':this.$VideoPlayerUnitXn();break;case 'flash/buffering':this.$VideoPlayerUnitXo();break;case 'flash/beginPlayback':this.$VideoPlayerUnitXp(ra.position);break;case 'flash/clickForTracking':this.$VideoPlayerUnitXk();break;case 'flash/expandVideo':this.$VideoPlayerUnitXq();break;case 'flash/finishPlayback':this.$VideoPlayerUnitXr();break;case 'flash/logEvent':this.$VideoPlayerUnitXs(ra.logData);break;case 'flash/pausePlayback':this.$VideoPlayerUnitXt();break;case 'flash/ready':this.$VideoPlayerUnitXj();break;case 'flash/turnOffAutoplay':this.$VideoPlayerUnitXu();break;case 'flash/updateStatus':this.$VideoPlayerUnitXv(ra.position);break;}};pa.prototype.logDisplayed=function(){"use strict";this.$VideoPlayerUnitXb(t.DISPLAYED);};pa.prototype.play=function(qa){"use strict";var ra={reason:qa,player_state:this.$VideoPlayerUnitXh,state:this.$VideoPlayerUnitXh===ha?s.PlayerStates.UNPAUSED:s.PlayerStates.STARTED};this.$VideoPlayerUnitXb(t.PLAY_REQUESTED,ra);if(this.$VideoPlayerUnitXh===ea){var sa={error:s.Errors.ENTERED_FALLBACK,state:s.ErrorStates.PLAYBACK_FAILURE};this.$VideoPlayerUnitXb(t.ERROR,sa);return;}if(this.$VideoPlayerUnitXh===ga){this.$VideoPlayerUnitX5=qa===ba.AUTOPLAY?ka:ma;}else this.$VideoPlayerUnitX7.play(qa);};pa.prototype.pause=function(qa){"use strict";if(this.$VideoPlayerUnitXh===ga){this.$VideoPlayerUnitX5=la;}else if(this.$VideoPlayerUnitXh===ia){this.$VideoPlayerUnitX7.pause(qa);this.$VideoPlayerUnitXd(ha);}};pa.prototype.$VideoPlayerUnitXe=function(qa,ra){"use strict";qa=qa===undefined?true:qa;this.$VideoPlayerUnitXd(ea);this.$VideoPlayerUnitXb(t.ENTERED_FALLBACK,{reason:ra,flash_available:qa});};pa.prototype.$VideoPlayerUnitXf=function(){"use strict";setTimeout(function(){if(this.$VideoPlayerUnitXh===ga)this.$VideoPlayerUnitXe(true,s.FallbackReasons.TIMEOUT);}.bind(this),oa);};pa.prototype.$VideoPlayerUnitXb=function(event,qa){"use strict";var ra={ad_client_token:this.$VideoPlayerUnitX0.ad_client_token,autoplay_eligible:this.$VideoPlayerUnitX0.should_autoplay,player_version:this.$VideoPlayerUnitX0.player_version,video_id:this.$VideoPlayerUnitX0.video_ids[this.$VideoPlayerUnitX1]};if(qa)y(ra,qa,this.$VideoPlayerUnitXw());this.$VideoPlayerUnitX3.logEvent(event,ra);};pa.prototype.$VideoPlayerUnitXk=function(){"use strict";w('click',this.$VideoPlayerUnitX2.video,null,'FORCE');};pa.prototype.$VideoPlayerUnitXn=function(){"use strict";this.$VideoPlayerUnitXd(ca);};pa.prototype.$VideoPlayerUnitXo=function(){"use strict";this.$VideoPlayerUnitXd(da);};pa.prototype.$VideoPlayerUnitXp=function(qa){"use strict";if(qa!==undefined)this.$VideoPlayerUnitX9=qa;this.$VideoPlayerUnitXd(ia);};pa.prototype.$VideoPlayerUnitXq=function(){"use strict";v.bootstrapWithElement(this.$VideoPlayerUnitX2.video_container,this.$VideoPlayerUnitX7.getDOMElement());};pa.prototype.$VideoPlayerUnitXr=function(){"use strict";if(this.$VideoPlayerUnitX4)this.$VideoPlayerUnitXl(this.$VideoPlayerUnitXx());this.$VideoPlayerUnitXy();this.$VideoPlayerUnitX0.should_autoplay=false;this.$VideoPlayerUnitXd(fa);};pa.prototype.$VideoPlayerUnitXs=function(qa){"use strict";var event=qa.event;delete qa.event;this.$VideoPlayerUnitXb(event,qa);};pa.prototype.$VideoPlayerUnitXt=function(){"use strict";this.$VideoPlayerUnitXy();this.$VideoPlayerUnitXd(ha);};pa.prototype.$VideoPlayerUnitXj=function(){"use strict";this.$VideoPlayerUnitX7=r.create(this.$VideoPlayerUnitX2.video,function(ra,sa){var ta={error:s.Errors.ERROR_CALLING_FLASH,error_description:ra.message,state:sa?s.ErrorStates.PLAYBACK_FAILURE:s.ErrorStates.PLAYER_FAILURE};this.$VideoPlayerUnitXb(t.ERROR,ta);this.$VideoPlayerUnitXe(true,s.FallbackReasons.FLASH_ERROR);}.bind(this));this.$VideoPlayerUnitXd(ja);this.$VideoPlayerUnitXz();this.$VideoPlayerUnitXA();if(this.$VideoPlayerUnitX5!=la){var qa=this.$VideoPlayerUnitX5===ka?ba.AUTOPLAY:ba.USER;this.play(qa);}this.$VideoPlayerUnitXb(t.PLAYER_LOADED,{is_auto_played:this.$VideoPlayerUnitX0.should_autoplay});};pa.prototype.$VideoPlayerUnitXu=function(){"use strict";this.$VideoPlayerUnitX0.should_autoplay=false;};pa.prototype.$VideoPlayerUnitXv=function(qa){"use strict";if(qa!==undefined)this.$VideoPlayerUnitX8=qa;};pa.prototype.$VideoPlayerUnitXw=function(){"use strict";var qa=this.getDOMPosition(),ra=j.getViewportDimensions().height,sa=null;if(qa.y<=0){sa=qa.y;}else if(qa.y+qa.height<ra){sa=0;}else sa=qa.y+qa.height-ra;return {viewport_distance:sa,unit_height:qa.height};};pa.prototype.$VideoPlayerUnitXy=function(){"use strict";this.$VideoPlayerUnitX8=null;this.$VideoPlayerUnitX9=null;};pa.prototype.$VideoPlayerUnitXz=function(){"use strict";var qa=x(this.$VideoPlayerUnitX7.getDOMElement(),['ft']);if(this.$VideoPlayerUnitX0.player_version===u.CASABLANCA)this.$VideoPlayerUnitX7.setFTData(JSON.stringify(qa.ft));};pa.prototype.$VideoPlayerUnitXA=function(){"use strict";if(this.$VideoPlayerUnitX0.player_version===u.CASABLANCA)this.$VideoPlayerUnitX7.setScriptPath(this.$VideoPlayerUnitXa);};pa.prototype.$VideoPlayerUnitXd=function(qa){"use strict";if(this.$VideoPlayerUnitXh===ea)return;this.$VideoPlayerUnitXh=qa;this.$VideoPlayerUnitXB();};pa.prototype.$VideoPlayerUnitXB=function(){"use strict";this.$VideoPlayerUnitXC();this.$VideoPlayerUnitXD();this.$VideoPlayerUnitXE();this.$VideoPlayerUnitXF();this.$VideoPlayerUnitXG();this.$VideoPlayerUnitXH();this.$VideoPlayerUnitXI();this.$VideoPlayerUnitXJ();};pa.prototype.$VideoPlayerUnitXC=function(){"use strict";if(this.$VideoPlayerUnitXh===ea){this.$VideoPlayerUnitX6.release();var qa=this.$VideoPlayerUnitX2;i.empty(qa.root);i.appendContent(qa.root,qa.fallback_link);i.appendContent(qa.fallback_link,qa.thumbnails[this.$VideoPlayerUnitX1]);i.appendContent(qa.fallback_link,qa.play_icon);}};pa.prototype.$VideoPlayerUnitXF=function(){"use strict";if(this.$VideoPlayerUnitXh===ea||this.$VideoPlayerUnitXh===ja||this.$VideoPlayerUnitXh===ha){h.addClass(this.$VideoPlayerUnitX2.play_icon,"_5vos");}else if(this.$VideoPlayerUnitXh===fa){if(this.$VideoPlayerUnitX2.cta_endscreen!=null){return;}else if(!this.$VideoPlayerUnitX4)h.addClass(this.$VideoPlayerUnitX2.play_icon,"_5vos");}else if(this.$VideoPlayerUnitXh!==fa||!this.$VideoPlayerUnitX4){h.removeClass(this.$VideoPlayerUnitX2.play_icon,"_5vos");h.removeClass(this.$VideoPlayerUnitX2.play_icon,"_5vov");}};pa.prototype.$VideoPlayerUnitXI=function(){"use strict";if(this.$VideoPlayerUnitX2.cta_fullscreen_button==null)return;if(this.$VideoPlayerUnitXh===ea||this.$VideoPlayerUnitXh===ja||this.$VideoPlayerUnitXh===da||this.$VideoPlayerUnitXh===ga||this.$VideoPlayerUnitXh===fa){h.removeClass(this.$VideoPlayerUnitX2.cta_fullscreen_button,"_4cq-");}else setTimeout(function(){h.addClass(this.$VideoPlayerUnitX2.cta_fullscreen_button,"_4cq-");}.bind(this),this.$VideoPlayerUnitX0.cta_inplay_button_fade_in_time);};pa.prototype.$VideoPlayerUnitXJ=function(){"use strict";if(this.$VideoPlayerUnitX2.cta_endscreen==null)return;if(this.$VideoPlayerUnitXh===fa){h.addClass(this.$VideoPlayerUnitX2.cta_endscreen,"_o34");}else h.removeClass(this.$VideoPlayerUnitX2.cta_endscreen,"_o34");};pa.prototype.$VideoPlayerUnitXG=function(){"use strict";if(this.$VideoPlayerUnitXh===ga||this.$VideoPlayerUnitXh===da){h.show(this.$VideoPlayerUnitX2.spinner);}else h.hide(this.$VideoPlayerUnitX2.spinner);};pa.prototype.$VideoPlayerUnitXH=function(){"use strict";if(this.$VideoPlayerUnitXh===ia||this.$VideoPlayerUnitXh===ha||this.$VideoPlayerUnitXh===da||this.$VideoPlayerUnitXh===ca){this.$VideoPlayerUnitX2.thumbnails.forEach(function(qa){h.hide(qa);});}else h.show(this.$VideoPlayerUnitX2.thumbnails[this.$VideoPlayerUnitX1]);};pa.prototype.$VideoPlayerUnitXE=function(){"use strict";if(!this.$VideoPlayerUnitX4)return;var qa=this.$VideoPlayerUnitX2.pivotThumbs;qa.forEach(function(sa){h.removeClass(sa,"_5vlu");h.removeClass(sa,"_5vou");h.addClass(sa,"_5vot");});h.removeClass(this.$VideoPlayerUnitX2.pivotReplayText,"_5vm5");h.removeClass(this.$VideoPlayerUnitX2.pivotNextText,"_5vm5");if(this.$VideoPlayerUnitXh===fa){var ra=qa[this.$VideoPlayerUnitXm()];h.removeClass(ra,"_5vot");h.addClass(ra,"_5vlu");setTimeout(function(){h.addClass(ra,"_5vou");h.addClass(this.$VideoPlayerUnitX2.pivotReplayText,"_5vm5");h.addClass(this.$VideoPlayerUnitX2.pivotNextText,"_5vm5");h.addClass(this.$VideoPlayerUnitX2.play_icon,"_5vov");}.bind(this),na);}};pa.prototype.$VideoPlayerUnitXD=function(){"use strict";if(!this.$VideoPlayerUnitX4)return;var qa=this.$VideoPlayerUnitX2.story_footers;for(var ra=0;ra<qa.length;ra++)h.conditionShow(qa[ra],ra===this.$VideoPlayerUnitX1);};pa.prototype.$VideoPlayerUnitXx=function(){"use strict";var qa=this.$VideoPlayerUnitX2.pivotThumbs.length;return (this.$VideoPlayerUnitX1+1)%qa;};pa.prototype.$VideoPlayerUnitXm=function(){"use strict";var qa=this.$VideoPlayerUnitX2.pivotThumbs.length;return (this.$VideoPlayerUnitX1-1+qa)%qa;};pa.prototype.$VideoPlayerUnitXl=function(qa){"use strict";this.$VideoPlayerUnitXb(t.CAROUSEL_CHANGE,{source_index:this.$VideoPlayerUnitX1,target_index:qa});this.$VideoPlayerUnitX7.switchVideo(qa);this.$VideoPlayerUnitX1=qa;this.$VideoPlayerUnitXB();};e.exports=pa;},null);
__d("VideoAutoplayControllerX",["Arbiter","DOMDimensions","Event","Visibility","Run","SubscriptionsHandler","VideoPlayerUnitX","throttle","VideoPlayerReason"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){var p=null,q=500,r=1;function s(){"use strict";this.$VideoAutoplayControllerX0=null;this.$VideoAutoplayControllerX1=null;this.$VideoAutoplayControllerX2=new l();this.$VideoAutoplayControllerX3={};g.subscribe(['flash/beginPlayback','flash/buffered','flash/buffering','flash/clickForTracking','flash/expandVideo','flash/finishPlayback','flash/hitBoxClicked','flash/logEvent','flash/pausePlayback','flash/ready','flash/updateStatus','flash/turnOffAutoplay'],this.$VideoAutoplayControllerX4.bind(this));this.setAutoplayInterval(q);this.$VideoAutoplayControllerX2.addSubscriptions(i.listen(window,'resize',this.$VideoAutoplayControllerX5.bind(this)),j.addListener(j.HIDDEN,this.$VideoAutoplayControllerX6.bind(this)),j.addListener(j.VISIBLE,this.$VideoAutoplayControllerX7.bind(this)));k.onLeave(function(){this.$VideoAutoplayControllerX2.release();this.$VideoAutoplayControllerX8.remove();}.bind(this));}s.prototype.setAutoplayInterval=function(t){"use strict";if(t===this.$VideoAutoplayControllerX9)return;if(this.$VideoAutoplayControllerX8)this.$VideoAutoplayControllerX8.remove();this.$VideoAutoplayControllerX9=t;this.$VideoAutoplayControllerX8=i.listen(window,'scroll',n(this.$VideoAutoplayControllerX5.bind(this),this.$VideoAutoplayControllerX9));};s.initVideoUnit=function(t,u){"use strict";if(p==null)p=new s();var v=new m(t,u);p.$VideoAutoplayControllerX3[u.flash_id]=v;if(p.$VideoAutoplayControllerXa(v))p.$VideoAutoplayControllerX5();};s.prototype.$VideoAutoplayControllerXb=function(){"use strict";var t=[];for(var u in this.$VideoAutoplayControllerX3){var v=this.$VideoAutoplayControllerX3[u];if(this.$VideoAutoplayControllerXa(v)){t.push(v);if(!v.isVisible){v.isVisible=true;v.logDisplayed();}}else v.isVisible=false;}return t;};s.prototype.$VideoAutoplayControllerXa=function(t){"use strict";var u=h.getViewportDimensions().height,v=t.getDOMPosition();if(v.height===0)return false;var w=v.y+(1-r)*v.height,x=v.y+r*v.height;if(w>=0&&x<u)return true;return false;};s.prototype.$VideoAutoplayControllerX4=function(t,u){"use strict";var v=this.$VideoAutoplayControllerX3[u.divID]?this.$VideoAutoplayControllerX3[u.divID]:null;if(v){if(this.$VideoAutoplayControllerX1===v&&(t==='flash/finishPlayback'||t==='flash/turnOffAutoplay'))this.$VideoAutoplayControllerX1=null;v.handleFlashEvent(t,u);}};s.prototype.$VideoAutoplayControllerX6=function(){"use strict";this.$VideoAutoplayControllerX0=this.$VideoAutoplayControllerX1;this.$VideoAutoplayControllerXc(o.PAGE_VISIBILITY);};s.prototype.$VideoAutoplayControllerX7=function(){"use strict";if(this.$VideoAutoplayControllerX0){this.$VideoAutoplayControllerX0.play(o.PAGE_VISIBILITY);this.$VideoAutoplayControllerX0=null;}};s.prototype.$VideoAutoplayControllerXc=function(t){"use strict";if(this.$VideoAutoplayControllerX1){this.$VideoAutoplayControllerX1.pause(t);this.$VideoAutoplayControllerX1=null;}};s.prototype.$VideoAutoplayControllerX5=function(){"use strict";var t=this.$VideoAutoplayControllerXb(),u=t.length,v=null;if(u==1){v=t[0];v=v.isAutoplayable()?v:null;}else if(u>1){var w=h.getViewportDimensions().height/2;t.forEach(function(x){if(!x.isAutoplayable())return;var y=x.getDOMPosition(),z=y.y+y.height/2,aa=Math.abs(z-w);x.playPriority=aa;if(!v||x.playPriority<v.playPriority)v=x;});}if(this.$VideoAutoplayControllerX1){if(v!=this.$VideoAutoplayControllerX1){this.$VideoAutoplayControllerXc(o.AUTOPLAY);this.$VideoAutoplayControllerX1=v;if(this.$VideoAutoplayControllerX1)this.$VideoAutoplayControllerX1.play(o.AUTOPLAY);}}else if(v){this.$VideoAutoplayControllerX1=v;this.$VideoAutoplayControllerX1.play(o.AUTOPLAY);}};e.exports=s;},null);