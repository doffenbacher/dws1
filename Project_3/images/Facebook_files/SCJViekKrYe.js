/*!CK:1506142103!*//*1402976186,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["uaX2r"]); }

__d("LitestandClassicLayoutController",["CSS","cx"],function(a,b,c,d,e,f,g,h){var i={conditionCardClass:function(j){g.conditionClass(document.body,"_5vb_",j);}};e.exports=i;},null);
__d("FeedTagSuggestContainer",["Animation","CSS","DOM","DOMQuery","Event","SubscriptionsHandler","invariant"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){function n(o,p,q){"use strict";this._subscriptions=new l();this._subscriptions.engage();this._root=o;this._wrapper=j.find(this._root.parentNode,'.photoWrap');this._photoID=q;this._faceboxes=[];p.forEach(this.registerSuggestion.bind(this));this._subscriptions.addSubscriptions(k.listen(this._root,'mouseover',this._onMouseOver.bind(this)),k.listen(this._root,'mouseout',this._onMouseOut.bind(this)));}n.prototype.registerSuggestion=function(o){"use strict";this._faceboxes.push(o);var p=o.js_instance;this._subscriptions.addSubscriptions(p.subscribe('remove',this.onRemove.bind(this,p)));i.appendContent(this._wrapper,o.dom_element);};n.prototype.onRemove=function(o){"use strict";var p=this._faceboxes.shift();this._onMouseOut();m(p.js_instance===o);if(this._faceboxes.length===0){new g(this._root).ondone(function(){this.removeLastSuggest(this._root);}.bind(this)).from('opacity',1).to('opacity',0).ease(g.ease.end).duration(500).go();this.cleanup();}else new g(o.suggest).ondone(function(){this.switchToNextSuggest(o.suggest,this.getNextFacebox().suggest);}.bind(this)).from('opacity',1).to('opacity',0).ease(g.ease.end).duration(500).go();};n.prototype.removeLastSuggest=function(o){"use strict";new g(o).ondone(this.removeSingleSuggest.bind(this,o)).to('height',0).ease(g.ease.end).duration(200).go();};n.prototype.switchToNextSuggest=function(o,p){"use strict";h.show(p);new g(p).ondone(this.removeSingleSuggest.bind(this,o)).from('opacity',0).to('opacity',1).ease(g.ease.end).duration(500).go();};n.prototype.removeSingleSuggest=function(o){"use strict";i.remove(o);o.cleanup();};n.prototype.getNextFacebox=function(){"use strict";return this._faceboxes[0].js_instance;};n.prototype._onMouseOver=function(){"use strict";this._visibleBox=this._faceboxes[0].dom_element;h.show(this._visibleBox);};n.prototype._onMouseOut=function(){"use strict";this._visibleBox&&h.hide(this._visibleBox);this._visibleBox=null;};n.prototype.cleanup=function(){"use strict";this._subscriptions.release();};e.exports=n;},null);